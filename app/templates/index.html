{% extends 'base.html' %}

{% block scripts %}
    {{ super() }}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>
    <link href="https://unpkg.com/tabulator-tables@4.4.3/dist/css/tabulator.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.4.3/dist/js/tabulator.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
{% endblock %}

{% block title %}i2c Relay Controller{% endblock %}

{% block page_content %}
    <p>Use "Scan I2C" to list devices in an I2C bus.</p>
    <p>Use "Add Relays" to add relays to control.</p>
    <p>Use the buttons below to set/toggle the status of the relay board's relays.</p>
    <div class="table-controls">
      <button id="add-button" class="btn btn-primary">
        <i class="fa fa-plus-circle"></i>
        Add Relays
      </button>
      <button id="scan-button" class="btn">
        <i class="fa fa-search"></i>
        Scan I2C
      </button>
      <div class="btn-group btn-group">
        <button id="all-on"     class="btn btn-success">Turn All ON</button>
        <button id="all-toggle" class="btn btn-info">Toggle All</button>
        <button id="all-off"    class="btn btn-danger">Turn All OFF</button>
      </div>
    </div>
    <p>
    <div id="relays-table"></div>
    <p>You should hear the relays click as they're activated; if you don't, it's probably not working ;-)</p>
    <p>Changes are persisted automatically.</p>
{% endblock %}
